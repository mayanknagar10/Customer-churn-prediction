<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>Customer Churn Predition</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Customer Churn</a>
      </div>
    </nav>

    
    <!-- Button trigger modal -->
    <!-- <button
      type="button"
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#exampleModal"
    >
      Launch demo modal
    </button> -->

    <!-- Modal -->

    <div
      class="modal fade"
      id="predictionModal"
      tabindex="-1"
      aria-labelledby="predictionModelLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="predictionModalLabel">Prediction</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <h6>{{ msg }}</h6>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="container my-5">
      <div class="accordion" id="accordionPanelsStayOpenExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="panelsStayOpen-headingOne">
            <button
              class="accordion-button"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#panelsStayOpen-collapseOne"
              aria-expanded="true"
              aria-controls="panelsStayOpen-collapseOne"
            >
              Customer Churn using Machine Learning
            </button>
          </h2>
          <div
            id="panelsStayOpen-collapseOne"
            class="accordion-collapse collapse show"
            aria-labelledby="panelsStayOpen-headingOne"
          >
            <div class="accordion-body">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat
              quisquam laboriosam pariatur doloribus ipsam rem, doloremque
              accusamus, neque, minima molestias maxime eius culpa. Dolores
              maiores deleniti corrupti fuga consectetur ducimus!
            </div>
          </div>
        </div>
      </div>

      <form class="mt-5" method="POST" action="/">
        <div class="mb-3">
          <label for="credit_score" class="form-label">Credit Score</label>
          <input
            type="number"
            class="form-control"
            id="credit_score"
            name="credit_score"
            {% if hasValues %}
            value="{{ values['credit_score'] }}"
            {% endif %}
            required
          />
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="age" class="form-label">Age</label>
          <input
            type="number"
            class="form-control"
            id="age"
            name="age"
            {% if hasValues %}
            value="{{ values['age'] }}"
            {% endif %}
            required
          />
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="tenure" class="form-label">Tenure</label>
          <input
            type="number"
            class="form-control"
            id="tenure"
            name="tenure"
            {% if hasValues %}
            value="{{ values['tenure'] }}"
            {% endif %}
            required
          />
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="account_balance" class="form-label"
            >Account Balance</label
          >
          <input
            type="text"
            class="form-control"
            id="account_balance"
            name="account_balance"
            {% if hasValues %}
            value="{{ values['account_balance'] }}"
            {% endif %}
            required
          />
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="products" class="form-label">No of Products</label>
          <input
            type="number"
            class="form-control"
            id="products"
            name="products"
            {% if hasValues %}
            value="{{ values['products'] }}"
            {% endif %}
            required
          />
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="credit_card" class="form-label"
            >Does the customer have Credit Card?</label
          >
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="credit_card"
              id="credit_card_yes"
              value="1"
              {% if hasValues and values['credit_card'] == '1' %}
              checked
              {% endif %}
              required
            />
            <label class="form-check-label" for="credit_card_yes"> Yes </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="credit_card"
              id="credit_card_no"
              value="0"
              {% if hasValues and values['credit_card'] == '0' %}
              checked
              {% endif %}
            />
            <label class="form-check-label" for="credit_card_no"> No </label>
          </div>
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="credit_card" class="form-label"
            >Is the customer active member?</label
          >
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="active_member"
              id="active_member_yes"
              value="1"
              {% if hasValues and values['active_member'] == '1' %}
              checked
              {% endif %}
              required
            />
            <label class="form-check-label" for="active_member_yes">
              Yes
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="active_member"
              id="active_member_no"
              value="0"
              {% if hasValues and values['active_member'] == '0' %}
              checked
              {% endif %}
            />
            <label class="form-check-label" for="active_member_no"> No </label>
          </div>
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="salary" class="form-label"
            >Estimated Salary per month</label
          >
          <input
            type="text"
            class="form-control"
            id="salary"
            name="salary"
            {% if hasValues %}
            value="{{ values['salary'] }}"
            {% endif %}
            required
          />
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="location" class="form-label">Location</label>
          <select
            class="form-select"
            aria-label="location"
            name="location"
            required
          >
            <option value="" selected disabled>Select</option>
            <option value="Germany" {% if hasValues and values['location'] == 'Germany' %} selected {% endif %}>Germany</option>
            <option value="France" {% if hasValues and values['location'] == 'France' %} selected {% endif %}>France</option>
            <option value="Spain" {% if hasValues and values['location'] == 'Spain' %} selected {% endif %}>Spain</option>
          </select>
        </div>
        <!--  -->
        <div class="mb-3">
          <label for="credit_card" class="form-label">Gender</label>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="gender"
              id="male"
              value="male"
              {% if hasValues and values['gender'] == 'male' %}
              checked
              {% endif %}
              required
            />
            <label class="form-check-label" for="male"> Male </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="gender"
              id="female"
              value="female"
              {% if hasValues and values['gender'] == 'female' %}
              checked
              {% endif %}
            />
            <label class="form-check-label" for="female"> Female </label>
          </div>
        </div>
        <!--  -->
        <button
          type="submit"
          class="btn btn-primary"
          data-bs-toggle="modal"
          data-bs-target="#predictionModal"
        >
          Submit
        </button>
      </form>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    {% if popup %}
    <script>
      let myModal = new bootstrap.Modal(
        document.querySelector('#predictionModal')
      );
      myModal.show();
    </script>
    {% endif %}
  </body>
</html>
